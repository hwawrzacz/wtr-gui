<div class="container">

  <div class="video-wrapper">
    <video #video *ngIf="previewMode" [srcObject]="videoSrc" autoplay="true" #cameraPreview></video>
    <app-full-screen-loader *ngIf="streamLoading"></app-full-screen-loader>
  </div>

  <canvas #imagePlaceholder></canvas>

  <mat-form-field *ngIf="previewMode" appearance="outline">
    <mat-label>Input device</mat-label>
    <mat-select (valueChange)="onInputDeviceChange($event)" [value]="selectedDevice ? selectedDevice.id : null"
      placeholder="Select device">
      <mat-option *ngFor="let device of devices" [value]="device.id">{{ device.label }}</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="fx-center">
    <button mat-raised-button color="primary" *ngIf="previewMode" (click)="takePhoto()">
      <mat-icon>camera_alt</mat-icon><span>Take a photo</span>
    </button>

    <button mat-button color="primary" *ngIf="!previewMode" (click)="retakePhoto()">
      <mat-icon>photo_alt</mat-icon><span>Retake photo</span>
    </button>
  </div>
</div>